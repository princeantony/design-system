import { Component } from '@angular/core';

import { CommonService } from '../app/shared/services/common.service';
import { PayAdminGlobalState } from './shared/store/pay-admin-global.store';
import { Router } from '@angular/router';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html'
})
export class AppComponent {
  title = 'PayAdmin';
  date = new Date().toLocaleDateString();
  constructor(private commonService: CommonService,private router: Router,
  ) {}

  ngOnInit(): void {
    if(PayAdminGlobalState.loginStatus) {
       console.log('loginStatus is not empty')
        if (!PayAdminGlobalState.stateList) {
          console.log('stateList is not empty')
      this.commonService.getStateList().subscribe(result => {
        if (result.status === 'SUCCESS') {
          PayAdminGlobalState.stateList = result.data;
        }
      });
    }
    if (!PayAdminGlobalState.countryList) {
      console.log('countryList is not empty')
      this.commonService.getCountryList().subscribe(result => {
        if (result.status === 'SUCCESS') {
          PayAdminGlobalState.countryList = result.data;
        }
      });
    }
    this.router.navigate(['/plans']);
    }
    else {
      console.log('loginStatus is  empty')
    this.router.navigate(['/']);
    }
  }
}
---
pattern="[A-Za-z]{2}"
